maintainer=("0x262D <pacstall@copypaste.anonaddy.me>")
pkgname="feroxbuster-bin"
gives="feroxbuster"
depends=("fonts-noto-color-emoji")
pkgver="2.10.0"
pkgdesc="A fast, simple, recursive content discovery tool written in Rust"
source=(
  "https://github.com/epi052/${gives}/releases/download/v${pkgver}/x86_64-linux-${gives}.tar.gz"
  "${gives}.bash::https://raw.githubusercontent.com/epi052/${gives}/${pkgver}/shell_completions/${gives}.bash"
  "_${gives}::https://raw.githubusercontent.com/epi052/${gives}/${pkgver}/shell_completions/_${gives}"
  "${gives}.fish::https://raw.githubusercontent.com/epi052/${gives}/${pkgver}/shell_completions/${gives}.fish"
)
sha256sums=(
  "dc511b6b2da4462cacd8d8985b49620e29f431d97d45efc7d305c436d4603b13"
  "SKIP"
  "SKIP"
  "SKIP"
)
arch=('amd64')
breaks=("${gives}" "${gives}-deb" "${gives}-git")
repology=("project: ${gives}")

package() {
  cd "${_archive}"
  # Install bin
  install -Dm755 "${gives}" "${pkgdir}/usr/bin/${gives}"

  # Bash
  install -Dm644 "./feroxbuster.bash" "${pkgdir}/usr/share/bash-completion/completions/feroxbuster.bash"

  # Zsh
  install -Dm644 "./_feroxbuster" "${pkgdir}/usr/share/zsh/site-functions/_feroxbuster"

  # Fish
  install -Dm644 "./feroxbuster.fish" "${pkgdir}/usr/share/fish/vendor_completions.d/feroxbuster.fish"
}
# vim:set ft=sh ts=2 sw=2 et:
